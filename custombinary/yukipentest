#!/bin/bash
# i have a dream to play x86_64 Program on an arm device haha
# remember its only a dream...


#however for refrences of running winex86 on an arm device you can read this web
#https://wiki.winehq.org/Emulation
lcdebug=${DEBUGFLAG}
PROGRAMTARGET=$PROGRAMTARGET
echo Declared Program Target $PROGRAMTARGET
sleep 3
pacman -S qemu-extra-arch --noconfirm --needed --overwrite '*'
cd /module/pentest/yuki
cp -rv imagine /bin
arch=$(uname -m)
export sysloop=${execpath}/system/${arch}
currdir=$(pwd)
runtimedir=runtime
startingdir=$execpath
runtimeimg=runtime.x86
runtimekernel=
currentcore=$(nproc --all)
#http://stackoverflow.com/questions/2441046/ddg#2441064
memory=$(grep MemTotal /proc/meminfo | awk '{print $2}' )
usethememory=$(( $memory / 8 ))
instdone=instdone
easy_install pip
if [ ! -f $instdone ]; then
  echo Not instlaled yet
  git clone https://github.com/EnableSecurity/wafw00f.git
cd wafw00f
python setup.py install
cd ${currdir}
git clone https://github.com/wpscanteam/wpscan.git
cd wpscan
sudo gem install bundler && bundle install --without test
cd ${currdir}
git clone https://github.com/rbsec/sslscan
cd sslscan
make
make install
cd ${currdir}
git clone https://github.com/nabla-c0d3/sslyze.git
cd sslyze
pip install -r requirements.txt --target ./lib
cd ${currdir}
chmod -R 777 .
sh /bin/yukipentest
exit
else
sh /bin/yukipentest
exit
fi
